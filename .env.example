# =============================================================================
# Prodigee — Environment Variables
# Copy to .env and customize for your environment.
# Each service reads vars with its own prefix (AUTH_, LEARNING_, etc.)
# =============================================================================

# --- Shared across services ---
# All services that decode JWTs must share the same secret and algorithm.
# In production, use GCP Secret Manager instead of env vars.
AUTH_JWT_SECRET=dev-secret-change-in-production
LEARNING_JWT_SECRET=dev-secret-change-in-production
ANALYTICS_JWT_SECRET=dev-secret-change-in-production

AUTH_JWT_ALGORITHM=HS256
LEARNING_JWT_ALGORITHM=HS256
ANALYTICS_JWT_ALGORITHM=HS256

# GCP project — all services
AUTH_PROJECT_ID=prodigee-488119
LEARNING_PROJECT_ID=prodigee-488119
ANALYTICS_PROJECT_ID=prodigee-488119
GATEWAY_PROJECT_ID=prodigee-488119

# Environment: "development" or "production"
# Controls: docs endpoint visibility, logging format, CORS strictness
AUTH_ENVIRONMENT=development
LEARNING_ENVIRONMENT=development
ANALYTICS_ENVIRONMENT=development
GATEWAY_ENVIRONMENT=development

# --- Firestore Emulator (local dev only) ---
# Set this to use the local emulator instead of real Firestore.
# All services auto-detect this variable.
# FIRESTORE_EMULATOR_HOST=localhost:8686

# =============================================================================
# Auth Service (port 8081)
# =============================================================================

# Token expiry
AUTH_PARENT_TOKEN_EXPIRY_HOURS=24
AUTH_CHILD_TOKEN_EXPIRY_HOURS=4

# COPPA session limits (minutes)
AUTH_COPPA_ENABLED=true
AUTH_CHILD_SESSION_LIMIT_MINUTES_3_5=30
AUTH_CHILD_SESSION_LIMIT_MINUTES_6_8=45
AUTH_CHILD_SESSION_LIMIT_MINUTES_9_PLUS=60

# CORS — comma-separated origins
AUTH_CORS_ORIGINS=["http://localhost:3000","http://localhost:5173"]

# =============================================================================
# Learning Engine (port 8082)
# =============================================================================

LEARNING_REGION=us-east1

# Vertex AI model for adaptive recommendations
LEARNING_VERTEX_AI_MODEL=gemini-2.0-flash

# Cloud Speech-to-Text
LEARNING_SPEECH_LANGUAGE_CODE=en-US
LEARNING_SPEECH_SAMPLE_RATE=16000

# Cloud Translation
LEARNING_TRANSLATION_DEFAULT_LANGUAGE=en

# Cloud Storage buckets
LEARNING_CONTENT_BUCKET=prodigee-content
LEARNING_MEDIA_BUCKET=prodigee-media

# CORS
LEARNING_CORS_ORIGINS=["http://localhost:3000","http://localhost:5173"]

# =============================================================================
# Analytics Service (port 8083)
# =============================================================================

# CORS
ANALYTICS_CORS_ORIGINS=["http://localhost:3000","http://localhost:5173"]

# =============================================================================
# Gateway (port 8080)
# =============================================================================

# Internal service URLs — in Cloud Run, these become the service URLs
GATEWAY_AUTH_SERVICE_URL=http://localhost:8081
GATEWAY_LEARNING_SERVICE_URL=http://localhost:8082
GATEWAY_ANALYTICS_SERVICE_URL=http://localhost:8083
GATEWAY_AR_VR_SERVICE_URL=http://localhost:8084

# Rate limiting
GATEWAY_RATE_LIMIT_REQUESTS=100
GATEWAY_RATE_LIMIT_WINDOW_SECONDS=60

# Proxy timeout (seconds)
GATEWAY_REQUEST_TIMEOUT_SECONDS=30.0

# CORS
GATEWAY_CORS_ORIGINS=["http://localhost:3000","http://localhost:5173"]
